​			**МИНИСТЕРСТВО ОБРАЗОВАНИЯ И НАУКИ РОССИЙСКОЙ ФЕДЕРАЦИИ**

​							**ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ АВТОНОМНОЕ **

​    			 **ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ**

​						«РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ»

​					    Факультет физико-математических и естественных наук





​															**ОТЧЕТ**

​									**по лабораторной работе 5**

ТЕМА **«Анализ файловой системы Linux. Команды для работы с файлами и каталогами»**

по дисциплине «Операционные системы» 



**Выполнил/лa:**

**Студент/кa группы**: НПИбд-02-21
**Студенческий билет **:1032205421

**Студент/ка:**Стелина Петрити







​															



​															Москва 2022







### **Цель работы**

Целью этой лабораторной работы является изучение управления файловой системой Linux, ее структуры, имен и содержимого каталогов. Практические навыки использования команд для работы с файлами и каталогами, проверки использования диска и обслуживания файловой системы. Изучить инструменты поиска файлов и фильтрации текстовых данных, а также практические навыки управления процессами (и задачами) для проверки использования диска и обслуживания файловой системы.

### **Выполнение работы:**

1. ### **Выполните все примеры, приведённые в первой части описания лабораторной работы.**

   **Пример 1:**

   *- Копирование файла в текущем каталоге. Скопировать файл ~/abc1 в файл aprilи в файл may.*

   *- Копирование нескольких файлов в каталог. Скопировать файлы april и may в каталогmonthly.*

   *- Копирование файлов в произвольном каталоге. Скопировать файл monthly/may в файл с именем june.*

   ![image-20220506215734345](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506215734345.png)![image-20220506215816858](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506215816858.png)![copy](C:\Users\Admin\OneDrive\Desktop\copy.png)

​						**1.1.**  **: **1-ого примерa

**Пример 2:**

*- Копирование каталогов в текущем каталоге. Скопировать каталог monthly в каталогmonthly.00.* 

*- Копирование каталогов в произвольном каталоге. Скопировать каталог monthly.00в каталог /tmp*



![image-20220506222526273](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506222526273.png)

​			**2.1.** **:**2-ого примерa



**Пример 3:**

*- Переименование файлов в текущем каталоге. Изменить название файла april на july в домашнем каталоге.*

*- Перемещение файлов в другой каталог. Переместить файл july в каталог monthly.00.*

*- Переименование каталогов в текущем каталоге. Переименовать каталог monthly.00 в monthly.01.*

*- Перемещение каталога в другой каталог. Переместить каталог monthly.01в каталог reports.*

*- Переименование каталога, не являющегося текущим. Переименовать каталогreports/monthly.01 в reports/monthly.*

![copy2](C:\Users\Admin\OneDrive\Desktop\copy2.png)![image-20220506223236889](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506223236889.png)

​		**3.1.** **:** 3-ого примерa



**Пример 4:**

*- Требуется создать файл ~/may с правом выполнения для владельца.*

*- Требуется лишить владельца файла ~/may права на выполнение.* 

*- Требуется создать каталог monthly с запретом на чтение для членов группы и всех остальных пользователей.*

*- Требуется создать файл ~/abc1 с правом записи для членов группы.*



![image-20220506223403448](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506223403448.png)![image-20220506223842176](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506223842176.png)

**4.1. :** Создание файла ~/main с правом выполнения для владельца



### 2. **Выполните следующие действия, зафиксировав в отчёте по лабораторной работе используемые при этом команды и результаты их выполнения**

**2.1.** *Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите его equipment. Если файла io.h нет, то используйте любой другой файл в каталоге/usr/include/sys/ вместо него.*

![image-20220506224343069](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506224343069.png)



**2.2.**  *В домашнем каталоге создайте директорию ~/ski.plases.*

![image-20220506224530275](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506224530275.png)



**2.3 ** *Переместите файл equipment в каталог ~/ski.plases.*

![image-20220506224657776](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506224657776.png)



**2.4.** *Переименуйте файл ~/ski.plases/equipment в ~/ski.plases/equiplist.*

![image-20220506224845136](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506224845136.png)



**2.5.** *Создайте в домашнем каталоге файл abc1 и скопируйте его в каталог~/ski.plases, назовите его equiplist2.*

![image-20220506224950018](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506224950018.png)



**2.6.** *Создайте каталог с именем equipment в каталоге ~/ski.plases.*

![image-20220506225210129](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225210129.png)



**2.7.** *Переместите файлы ~/ski.plases/equiplist и equiplist2 в каталог~/ski.plases/equipment.*

![image-20220506225309388](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225309388.png)



**2.8** *Создайте и переместите каталог ~/newdir в каталог ~/ski.plases и назовите его plans.*

![image-20220506225359019](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225359019.png)



### **3. Определите опции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав **нет.

![image-20220506225711988](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225711988.png)![image-20220506225737213](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225737213.png)

**3.1 ** *drwxr--r--	australia*

![image-20220506225827860](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225827860.png)



**3.2.** *drwx--x--x	play*

![image-20220506225951659](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506225951659.png)



**3.3** *-r-xr--r--	my_os*

![image-20220506230110327](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230110327.png)



**3.3** *-rw-rw-r--	feathers*

![image-20220506230157557](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230157557.png)



### **4.Проделайте приведённые ниже упражнения, записывая в отчёт по лабораторной работе используемые при этом команды:**

**4.1.** *Просмотрите содержимое файла /etc/password*

![image-20220506230346503](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230346503.png)



**4.2** *Скопируйте файл ~/feathers в файл ~/file.old.*

![image-20220506230656600](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230656600.png)



**4.3.** *Переместите файл ~/file.old в каталог ~/play*

![image-20220506230729687](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230729687.png)



**4.4.** *Скопируйте каталог ~/play в каталог ~/fun.*

![image-20220506230836550](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230836550.png)



**4.5.** *Переместите каталог ~/fun в каталог ~/play и назовите его games*

![image-20220506230921336](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506230921336.png)



**4.6**. *Лишите владельца файла ~/feathers права на чтение.*

**4.7.** *Что произойдёт, если вы попытаетесь просмотреть файл ~/feathers командой cat?*

**4.8.** *Что произойдёт, если вы попытаетесь скопировать файл ~/feathers?*

![image-20220506231221201](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506231221201.png)



**4.9** *Дайте владельцу файла ~/feathers право на чтение.*

![image-20220506231453481](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506231453481.png)



**4.10.** *Лишите владельца каталога ~/play права на выполнение.*

![image-20220506231553502](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506231553502.png)



**4.11.** *перейдите в каталог ~/play. Что произошло?*

![image-20220506231648681](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506231648681.png)



**4.12.** *Дайте владельцу каталога ~/play право на выполнение.*

![image-20220506231743942](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506231743942.png)





### **5. Прочитайте man по командам mount, fsck, mkfs, kill и кратко их охарактеризуйте, приведя примеры**.

**5.1.** *mount*

![image-20220506232028801](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506232028801.png)



**5.2** *mkfs*

![image-20220506232143378](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506232143378.png)





**5.3**. *kill*

![image-20220506232335182](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506232335182.png)



**5.4.** *fsck*

![image-20220506232221175](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20220506232221175.png)





### **Контрольные вопросы**

1. **Дайте характеристику каждой файловой системе, существующей на жёстком диске компьютера, на котором вы выполняли лабораторную работу?**

Файловая система, которую я использовал больше - это
**Ext4** - это стандартная корневая / древовидная файловая система с загрузочным сектором, таблицей разделов и, как и файловая система Unix, использует индексы (индексные узлы) для описания файлов и объектов.

**Ext2** -Это было сделано для преодоления ограничений устаревшей файловой системы Ext. Максимальный размер файла составляет 16 ГБ – 2 ТБ. Функция ведения журнала недоступна. Он обычно используется для флэш-носителей, таких как USB-накопитель, SD-карта и т.д.

**Ext3**- Файловая система ext3 предотвращает потерю целостности данных в случае аварийного завершения работы системы. Файловая система ext3 позволяет вам выбирать тип и уровень защиты, который получают ваши данные. По умолчанию тома ext3 настроены на поддержание высокого уровня согласованности данных в отношении состояния файловой системы.

**XFS** обеспечивает ведение журнала метаданных файловой системы, при котором обновления файловой системы сначала записываются в последовательный журнал до обновления фактических блоков диска. Журнал представляет собой циклический буфер дисковых блоков, который не считывается при нормальной работе файловой системы. Журналы настроены на поддержание высокого уровня согласованности данных в отношении состояния файловой системы.

**Файловая система ведения журнала** - это файловая система, которая отслеживает изменения, еще не внесенные в основную часть файловой системы, записывая цель таких изменений в структуру данных, известную как "журнал", который обычно представляет собой циклический журнал.

**BTRFS** - это файловая система Linux, которая была принята в качестве файловой системы по умолчанию в некоторых популярных версиях Linux. Он основан на копировании при записи, что позволяет создавать эффективные моментальные снимки и клоны. Он использует B-деревья в качестве основной структуры данных на диске. Цель разработки - хорошо работать для многих вариантов использования и рабочих нагрузок.

2. **Приведите общую структуру файловой системы и дайте характеристику каждой директории первого уровня этой структуры?**

/ -  Каталог под названием "root". Это отправная точка для иерархии файловой системы. 

/bin - Двоичные файлы и другие исполняемые программы. Программы написаны в исходном коде, который представляет собой читаемый человеком текст. Затем исходный код компилируется в машиночитаемые двоичные файлы

/home - Домашние каталоги. Домашние каталоги позволяют каждому пользователю отделять свои данные от данных других пользователей системы.

/etc - Файлы конфигурации системы. Файлы конфигурации управляют поведением операционной системы или приложений.

/tmp - Временное пространство, обычно очищаемое при перезагрузке. Каталог /tmp - отличное место для хранения временных файлов, но не помещайте в /tmp ничего, что вы хотите сохранить на длительный срок.

/var - Переменные данные, в первую очередь файлы журналов.

/usr - Программы, связанные с пользователем. Каталог /usr называется "пользователь". Вы найдете связанные с пользователем двоичные программы и исполняемые файлы в каталоге /usr/bin.

3. **Какая операция должна быть выполнена, чтобы содержимое некоторой файловой системы было доступно операционной системе?**

Для того чтобы содержимое некоторой файловой системы было доступно операционной системе, выполняется операция монтирования тома.

4. **Назовите основные причины нарушения целостности файловой системы. Как устранить повреждения файловой системы?**

 Oтсутствие синхронизации образа с файловой системой в памяти, а также его данными на диске может привести к этим ошибкам:
1. Блок принадлежит нескольким папкам

2. Блок помечается как свободный и занятый, и наоборот.

3. Oтсутствие или избыток ссылочных записей в справочниках

4. Размер файла и общий размер адресуемых блоков индексов указаны неверно.
5. Адресуемые блоки недопустимы.
6. Файлы, на которые не ссылается каталог.
7. Недопустимые или не размещенные номера индексов в записях каталога.

Простейшим вариантом использования команды fsck является восстановление некорневой поврежденной файловой системы ext3 или ext4.

Если мы не знаем имя устройства, используем fdisk, df или любой другой инструмент, чтобы найти его.

Отключите устройство: sudo umount /dev/sdc1

Запустите fsck для восстановления файловой системы: sudo fsck -p /dev/sdc1

Параметр -p указывает fsck автоматически устранять любые проблемы, которые могут быть безопасно устранены без вмешательства пользователя.

Как только файловая система будет восстановлена sudo mount /dev/sdc1

5. **Как создаётся файловая система? **mkfs В общем виде команда выглядит так:

   mkfs -t ext2 /dev/hda5

6. **Дайте характеристику командам для просмотра текстовых файлов **

   Cat- Это самая простая и, самая популярная команда для просмотра файла в Linux.

   Cat просто печатает содержимое файла на стандартном экране, т.е. на экране. Cat становится мощной командой, когда используется с ее параметрами. Мы рекомендуем прочитать это подробное руководство по использованию команды cat.

   nl- Команда nl почти как команда cat. Разница лишь в том, что она добавляет номера строк при отображении текста в терминале. Есть несколько вариантов с командой nl, которая позволяет вам контролировать нумерацию.

   Команда Less -  просматривает файл по одной странице за раз. Лучше всего, чтобы мы выходили меньше (нажимая q), на экране не отображаются строки. Наш терминал остается чистым и нетронутым.

   Команда Head – это еще один способ просмотра текстового файла, но с небольшой разницей. Команда head отображает первые 10 строк текстового файла по умолчанию. Мы можем изменить это поведение, используя опции с командой head, но основной принцип остается тем же: команда head начинает работать с заголовка (начала) файла.

   7. **Приведите основные возможности команды cp в Linux ?**

      Это сокращение от copy, и она делает именно то, что предполагает ее название: она копирует. **cp** используется для копирования файлов из одного местоположения в другое. **cp** также можно использовать для копирования всех каталогов в новое место. Вы можете использовать его для копирования нескольких файлов и каталогов.

      8. **Приведите основные возможности команды mv в Linux.**

         Команда mv\** может:

         - Переместить один или несколько файлов в другую директорию.
         - Переместить одну или несколько директорий в другую директорию.
         - Переименовать файл.
         - Переименовать директорию.

​			9. **Что такое права доступа? Как они могут быть изменены?**

**Права доступа** — совокупность правил, регламентирующих порядок и условия **доступа** субъекта к объектам информационной системы ( , её носителям, процессам и другим ресурсам) установленных правовыми документами или собственником, владельцем информации. Права доступа к файлу или каталогу могут быть изменены с помощью команды chmod, которую может выполнить владелец.



### **Выводы**

Я узналa, как изменить права на файл или каталог с помощью команды chmod. В этой лаборатории я узналa, как работают такие команды, как копирование, перемещение, переименование файла и каталога. Я узналa о других командах, таких как mount, mkfs, kill, fsck.