### **МИНИСТЕРСТВО ОБРАЗОВАНИЯ И НАУКИ РОССИЙСКОЙ ФЕДЕРАЦИИ ** **ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ АВТОНОМНОЕ ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГООБРАЗОВАНИЯ**

### **«РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ»**

Факультет физико-математических и естественных наук

Кафедра информационных технологий
ОТЧЕТ

по лабораторной работе 7
ТЕМА «Командная оболочка MidnightCommander» по дисциплине «Операционные системы»



Выполнил/лa:

Студент/ка группы НПИбд-02-21

Студенческий билет No 1032205421

Студент/ка: Стелина Петрити

### **Цель работы**

Освоение основных возможностей командной оболочки Midnight Commander. Приобретение навыков практической работы по просмотру каталогов и файлов, манипуляций с ними.

### **Последовательность выполнения работы**

### **Задание 1 по mc**

**1.**Изучите информацию о mc, вызвав в командной строке man mc. **(1.1)**

![img](https://lh5.googleusercontent.com/-LfOS7i72WOH52-uEbrUMbYa5szTHA27EaZ6d6vgbmMkK4S6BsZQlILZXC-1gX1CSTWDHzDBuhzgc3eJz4A4MNbRK3ZAn7dwNr5Ix7i4clIAcmmyyojTxGWpK1HQMf1McrvtsBHCxHB9rTSsiQ)

**1.1**

**2. **Запустите из командной строки mc, изучите его структуру и меню. **(2.1)**

![img](https://lh5.googleusercontent.com/as3zQPcl2LWcTeFdy4CDe9MaBwxMLWMmNuvMucjJBfQ0lEqJ1TkTxuMEh2gKIfc6ODu0yYSuV0-H7SZ_RGuAgPsW6qAUG9KulFkzD-rYmSxXQUProZSaumWZNqRmTKstLQXP9AxPi5bayq04sg)

**2.1**

**3.**Выполните несколько операций в mc, используя управляющие клавиши (операциис панелями; выделение/отмена выделения файлов, копирование/перемещение фай-лов, получение информации о размере и правах доступа на файлы и/или каталогии т.п.)  **(3.1; 3.2; 3.3;)**

![img](https://lh6.googleusercontent.com/oUIFiSe_7LTY864DhoLRvEKanwoTwV-c3mEq9rA-MnXUlLk1s0gsFycij3qVwpijOsOYvZPcCmHBLbm0WrP00sOe7PRhArDml5wUGUXb7CHi2I6NF4Cg2Ys1zaBEbTEeRyaM4-u5n8ewYQtfKQ)

**3.1**

![img](https://lh3.googleusercontent.com/PTimky6x0y_ueFXsvlD428sn4LMpHkr4MMUpm5-Ovrr6dLeQ7YVp0BXDzT5PFLLEUAH24oxfQ1QoMPVq3zRYhk39kBXlshUeKeGXH7XRV5-wpAnJeTAFRIP3m6bHJ9_a1WerpR_sYyQt6-aPpw)

​					**3.2**



![img](https://lh4.googleusercontent.com/TM5GYWY06XdmYuhDsTRz67juYVsP3QelNBNkCq7tZdlREBSjNmW8qsl7JB6au-5gGsIz10cCHKgWXy8YfBJrzUleRuiVkSLWIpPvCFketvEvdhmGCW2ixDsTG0OIT5OgDWuUJPImDhR8_0Ay6g)

**3.3**

**4.**Выполните основные команды меню левой (или правой) панели. Оцените степеньподробности вывода информации о файлах. **(4.1)**

![img](https://lh3.googleusercontent.com/_kEYZKjySLpgNLjjS_z019Kgd-2nTVdQ2atr5oXpQR65SHP5lGz9TYCt-wXR5b07ldfC9MFZRP0ODCHB86opYje-ZjH_Uo-ZU7T1PVDyosTc3VGp8DRyAPGv6l_MHClU9bOZknx46cqrytEmNQ)

**4.1**

**5.** Используя возможности подменю Файл , выполните:

* просмотр содержимого текстового файла **(5.1)**

* редактирование содержимого текстового файла 

  (без сохранения результатовредактирования);**(5.2)**

* создание каталога;**(5.3)**

* копирование в файлов в созданный каталог.**(5.4)**

![img](https://lh4.googleusercontent.com/9lqtJlfCPoTxa2QbsL07726U1fAI7xu8mZJNTrYVTgkvdboAUL6o5SwX-PusxVW1rUBtZPIVnnxuHwNPzmfb2BpaLRejM66zInKwvlEx_y1RE0ak1mLy-NFDdrgVmZueKVw6SCbMF-O9WMXPRA)

​					**5.1**

![img](https://lh5.googleusercontent.com/QeYrVVebxZ5zu0kICo9KjKSuPpLZ_a3806zSmhxnrgzVwgmA3QLJXjyGTf7B26dnnSvSRwekrk7C5Eu4hzd2sFfpzSHPyycXWaIdyBgPnQc1Dvzm-KJeNYls2t7gK8Kt1MFDAzzhcb5HP_Eu5g)

**5.2**

![img](https://lh4.googleusercontent.com/PJzPXSkxPyarImIwthtEFSbkqi9Dmy6MIDD3HVRPJg5ocW05cNnNUjF9IRe_5knfXAkfC1fkXLEU0DaIlxMSQYTLfNJN7997AetBleaM2cmg-vH0Q8uw4DqgK4T-eoxWACAK1vtWmRrSPslV4A)

​						**5.3**

![img](https://lh4.googleusercontent.com/Q1oRDZyIsnioJIpfI9GkRma4KN_9vZpAiPaENDuhrngQkOUciDfSGT56Y_2zA1KMc0h76nlpbWMFQGoUVLmf1RD9shDiAzMtHH-U-WoS3QKjPnjrW7oz5twMxxHjza2lwJp910yo8t1m561W-Q)

​					**5.4**

**6.** С помощью соответствующих средств подменю Команда осуществите:

* поиск в файловой системе файла с заданными условиями (например, файлас расширением .c или .cpp, содержащего строку main);**(6.1)**

* выбор и повторение одной из предыдущих команд;**(6.3)**
* переход в домашний каталог;**(6.2)**
* анализ файла меню и файла расширений.**(6.4)**

![img](https://lh4.googleusercontent.com/YS4ZVOAig_CpMq-N6klvQbaZJlZzuabMw_BZX79UqC4DuJsKmi4lIUNwMixKbAw0AEfIFKyZ1E_WWpNUjKk7lKhquWvkXCEsj33Il6fmfb48uLjYFZCbfuOai5h9-8gsGWl-8qubRyDqCd4fMQ)

​																**6.1**

![img](https://lh5.googleusercontent.com/c0dRntq35O--T1_RstHB4OD1mLtZTpKxncMBriofXvZtloMpWYRRBgxN7Yun-zsvCujAk2Q8ybO5mzDrwRKbwrh-iq5EkHGq_vmLEQfzShdieVc2enJRmtccL30VM22GYC7i4PyK4U_kRUdYiA)

​										**6.2**

![img](https://lh3.googleusercontent.com/PTimky6x0y_ueFXsvlD428sn4LMpHkr4MMUpm5-Ovrr6dLeQ7YVp0BXDzT5PFLLEUAH24oxfQ1QoMPVq3zRYhk39kBXlshUeKeGXH7XRV5-wpAnJeTAFRIP3m6bHJ9_a1WerpR_sYyQt6-aPpw)

​					**6.3**

![img](https://lh6.googleusercontent.com/VGgeY8sOnDaGEDuO6dCG6oGTu4umqcMFvJ7qul-l2haxj8SZ0KqxGgaCvtAzdmRMXKQQ-eZPRYFHlQG6ewM4TvQ-Wvz_fgbzDk3XKEcQEgjsUhVSFkDG-OALSTr131111F5zCAjpsNGicNRjzw)

​														**6.4**

 **7. **Вызовите подменю Настройки . Освойте операции, определяющие структуру экрана mc(Full screen, Double Width, Show Hidden Files и т.д.) **(7.10)**

![img](https://lh4.googleusercontent.com/UiLMnhkuB2m26uu9_7hbc0pwtlV37Ro73Ojv-UUhSHcV_dtYrl7bqxeTbulHCXfZQMnNwih6gRWatuFjCW80QY1_eXZ5lOy8EtMjCKMngZC4POKZKAVdPKZ_q3W5EEhHW_hflH_vFycrTeZAvA)

​						**7.1**

### **Задание по встроенному редактору mc**

**1.**Создайте текстовой файл text.txt.

**2.** Откройте этот файл с помощью встроенного в mc редактора.

![img](https://lh3.googleusercontent.com/dy3IszFXU_ircAVK0jBJmJ2EbP86qhnTtJrh9jLY4emzwJnrgdG21Be8U7RBFghYttnlfm4s093ndaPMqWF93oTz4VByiiSodNnetaJX7PH4UoMn6IRlfEgEZj1V_c04BW-TvZvmDvBD9SMSgw)



**3.** Вставьте в открытый файл небольшой фрагмент текста, скопированный из любогодругого файла или Интернета.

![img](https://lh5.googleusercontent.com/hQ5ojuFwoEoo4geDBi3rs_5cbox3Po0ApLvvzZmAbclnUOD8Is41YNqq3tOkLrOkqRk_ihuj_HpicAIDFIBhb3I4MElYUixlv7bypL4qM3CCFKRyExgVxDEa_RycTpWUDGqqkljJ62ck05b6JQ)



**4.** Проделайте с текстом следующие манипуляции, используя горячие клавиши:

  *4.1.* *Удалите строку текста*.*

![img](https://lh5.googleusercontent.com/BB51WGsy62h9MmEgglw4LRvhb-XYdvwZbLEUGsOlsGSa9fYTaTsMetKMHQn5aAgVI4h76AJ2yfYPKoSjcVj8L_1WoUMhucktEFZn4aF8BWN5g7tyoAzzQCZwEo-ixi7m5fRYbFYZDaDgisgyGw)

*4.2. Выделите фрагмент текста и скопируйте его на новую строку.*

![img](https://lh4.googleusercontent.com/dVlUROY0szFlJIeZqkXmByTAcRR58vW9dzeRC2dM2_K1Sz2-DTAq9d4yX8Y7zc6XRgD3yiLhE8gQoBlyGV-CnpOSC33zB1zaarJZMmfw6lVWrJRWtVjsv8iLS12eEmxmAZ7i3w9aIYj4WGiflg)

*4.3. Выделите фрагмент текста и перенесите его на новую строку.*

![img](https://lh6.googleusercontent.com/1-RCLlp94zlMrWNukpteNXzh6EHzxNmKsXL8IwkMd0PtgdNolun4AxywT4I2D0t7TB1fZcVw-CM-d6oJSnmC8QGqNUTJZZXJR4niAEJmi5KcyRqRRRK6ZJ-nDLruL86EKSWks2Ms6Nqx05RPkQ)

*4.4. Сохраните файл.*

![img](https://lh6.googleusercontent.com/Xan5K5IyvQc009mPnYpsiR-OQtNNQZTpavFlRLRORCKIHYYqzjQw1GcH8utdfrN6gk-7bp7BglUq8SSfZEGqgZRLCZfECAfYojJg4uFKwzA779H1csFTpbZioUdfrnHnmsamSUBkVCDt5OVasA)

*4.5. Отмените последнее действие.*

*4.6. Перейдите в конец файла (нажав комбинацию клавиш) и напишите некоторый текст.**(4.6.1)**

*4.7. Перейдите в начало файла (нажав комбинацию клавиш) и напишите некоторый текст.***(4.6.2)**

![img](https://lh6.googleusercontent.com/NXAxfqFqMWXFyYeOhI8148LFfGK6nrVLT89m_zjpwrZDXpQy-M6E7JRLTwwpqyFUFPcwEGRmu4GITFgkMk2ajH4eerfrApPXbZ7aYRYSPol3IjmQ-lH0PFnNYJThBc6TFBpu0TvOtxyO1haG9A)

**4.6.1**

![img](https://lh6.googleusercontent.com/k5zIfiqhF0zjtd2sumzgJZ6qPjGlQ3wk5QxF_6Syv86p4MYot1lqwhGplXD6OHRGpeeer9EF9UEdOVRCVVKhKbSPZo16_w_Ht1XSX_bER1PCUINWWIwc5-xFmY1MMaUnbpgjBKCRmPLVz8WQVw)

**4.6.2**

*4.8. Сохраните и закройте файл.*

![img](https://lh4.googleusercontent.com/P5oddp4xqei0Xr0e4gJ5fAkugZNhNh9VtvR7zqWKDXiQJKzaDulrb4g7ND1r8HHL7k1tVOBGv2K_50b0Z_zhsK4zZrG4VHXkoiaqXVrODYyCjA1mDu4tv64RAqztMOoWsZB9wXGBUK29VjxG4Q)



**5. **Откройте файл с исходным текстом на некотором языке программирования (напри-мер C или Java)

![img](https://lh3.googleusercontent.com/k8U50p0__jmD1573ZPOA9B-fz3MQjzxfZsg-HHFUGWwIB8RgCNaZzQR4vwXX3ijdPAp4wwhki_3Ne-v47nKm-29RMQcvYirHCn4baPaj5_UzSr_UD3w3pc1pDGB_nSp6tSjT9lOiXh_DrLI2eA)

**6.** Используя меню редактора, включите подсветку синтаксиса, если она не включена,или выключите, если она включена.

![img](https://lh6.googleusercontent.com/cxVIT98IPFky3dWkuLE6kn_AiXkAs9YlsKkyiAbvrGSruvLrmvbu5GHLb_4844izHYUfwO62EtwHSIumKSK2EGNoleyWIr7pZxtjkUU6cqQKQa4tz5bdOTO7crA1ZFuA1_bbsi4MbON-LjNuNg)



### **Контрольные вопросы**

**1. Какие режимы работы есть в mc. Охарактеризуйте их.**

У этого есть два пути. Один из них - использование сочетаний клавиш мыши и клавиатуры. С помощью мыши просто введите то, что вы хотите сделать. С помощью горячих клавиш мы можем использовать PgUp, PgDn и т.д. Клавиши со стрелками для перемещения вверх и вниз. С помощью F3 мы можем просматривать и редактировать файлы, с помощью F5 копировать и редактировать файлы, а с помощью F8 удалять файлы.

**2.Какие операции с файлами можно выполнить как с помощью команд shell, так и с по-мощью меню (комбинаций клавиш) mc? Приведите несколько примеров.**

В командной строке alt+enter копирует выбранный файл. В командной строке ctrl+shift+enter копирует полный путь к выбранному файлу .Показывает историю командной строки Alt+H

**3.Опишите структура меню левой (или правой) панели mc, дайте характеристику коmандам.**

На активной панели выделено название одного из каталогов или файлов, а заголовок панели в верхней строке выделен цветом. Этот заголовок соответствует имени каталога, отображаемого на этой панели, который является текущим каталогом оболочки, из которой запускается программа. Вторая панель является пассивной. Почти все операции выполняются в активной панели, то есть в соответствующем (текущем) каталоге. Некоторые операции (такие как копирование или передача файлов) по умолчанию используют каталог, отображаемый на пассивной панели, в качестве места назначения операции. Вкладка, C-i : Измените текущую (активную) панель.Alt-e: Чтобы изменить кодировку панели
up,(Вверх) C-p : подсветка перемещается на предыдущую позицию в списке файлов панели.down,(Вниз) Cn : подсветка перемещается на следующую позицию в списке файлов панели.PageDown, C-v : выделение перемещается на одну страницу вниз.

**4.Опишите структура меню Файл mc, дайте характеристику командам.** 

Раздел меню "Файл" документирует сочетания клавиш. Этот раздел включает в себя функциональные клавиши.. В меню "Файл" перечислены действия, которые вы используете для выполнения с выбранным в данный момент файлом или отмеченными файлами.

Меню Файл содержит следующие команды :

(F1) - Вызывает встроенную программу просмотра гипертекстовой справки и получает полный список принятых ключей. Вы можете использовать клавишу Tab для выбора следующей ссылки и клавишу Enter для перехода по этой ссылке. Клавиши пробела и обратного пробела - для перемещения вперед и назад.

(F2) - Открыть меню пользователя.

(F3, F13) - Просмотр выбранного файла.

Редактировать (F4, F14). Нажмите клавишу F4, чтобы отредактировать выбранный файл.

F14 - для запуска редактора с новым пустым файлом. В настоящее время они вызывают редактор vi, или редактор, указанный в переменной среды EDITOR, или редактор внутренних файлов, если включена опция use_internal_edit.
Фильтрованный просмотр (Alt-!) - Эта команда запрашивает команду и ее аргументы. Вывод такой команды находится во внутреннем файле просмотра.

**5. Опишите структура меню Команда mc, дайте характеристику командам.**

Пользовательское меню может расширитьвозможности Midnight Commander, добавиввызов часто используемых программ в личное меню пользователя.

Горячие клавиши- M-?. - Команда поиска файла позволяет найти файл с указанным именем.

"Горячие" клавиши - C-u. - Команда Переставить панели меняет местами содержимое правой и левой панелей.По команде Отключить панель отображается вывод последней из выполненных команд oblochki. 

"Горячиe"клавиши C-o. - Эта команда работает через xterm и на консолях Linux и FreeBSD.

"Горячие" клавиши - C-x d - Команда Сравнения каталогов сравнивает содержимое каталогов, которые находятся на левой и правой панелях.

После сравнения мы можем использовать команду Копирования, чтобы содержимое каталогов стало одинаковым.

При быстром методе сравнения сравниваются только размер и дата создания файлов с одинаковыми именами. С помощью метода байт за байтом содержимое файлов сравнивается (байт за байтом).

Сравнение по размеру , размерам соответствующих файлов и дате создания не проверяется.

Пункт меню "Каталоги быстрого доступа" - создает список наиболее часто используемых каталогов и обеспечивает быстрый переход к нужному каталогу из этого списка.

**6. Опишите структура меню Настройки mc, дайте характеристику командам.**

Программа Midnight Commander имеет ряд опций. Каждый из них можно отключить и включить с помощью диалоговых окон в меню настроек. Опция включена, если перед именем опции в круглых скобках стоит звездочка или знак "x". 

Пункт Настройки - может открыть диалоговое окно. Там вы можете изменить настройки программы Midnight Commander. 

Пункт Внешний вид - он задает настройки, которые определяют положение и внешний вид программы. Пункт Настройки панели - в нем задаются настройки панелей файлового менеджера.

 Пункт Подтверждения - он открывает диалоговое окно, в котором потребуется подтверждение для выполнения. Элемент оформления - он открывает диалоговое окно, в котором можно выбрать скин.

Пункт Символьные биты - он открывает диалоговое окно, в котором вы выбрали формат, который будет обрабатывать ваш терминал.

Пункт Распознавания клавиш - открывает диалоговое окно, в котором проверяется работа некоторых клавиш, которые работают не на всех типах терминалов.

Пункт Virtual FS открывает диалоговое окно, в котором вы можете задать значения некоторых параметров.Командой Save Settings,- введенные значения параметров сохраняются в ini-файле программы.

**7. Назовите и дайте характеристику встроенным командам mc.**

Нажав  F3 или F4, чтобы просмотреть и отредактировать файл,Mc обеспечивает поддержку форматирования для нескольких распространенных форматов файлов, таких как HTML и zip-файл.Mc форматируетфайл в соответствии с форматом файла. Например, для просмотра страницы руководства мы должны выбрать файл и нажать клавишу F3. Если исходный дистрибутив mc находится под рукой, нам нужно перейти в каталог doc и выбрать файл, а затем нажать клавишу F3, чтобы просмотреть.

**8. Назовите и дайте характеристику командам встроенного редактора mc.**

Нажав клавишу F4. Клавиша F9 - чтобы узнать, какие клавиши вызывают определённые действия.: Shift-<клавиши со стрелками> блокировать выделение текста.Ctrl-Ins - копирует блок в файл mcedit.clip.Shift-Ins вставляет последний блок, скопированный в mcedit.clip, в положение курсора.Shift-Del удаляет выделенный блок текста, сохраняя его в файле mcedit.clip.Клавиша Enter вставляет символы конца строки, а следующая строка имеет отступ.

**9.Дайте характеристику средствам mc, которые позволяют создавать меню, определяе-мые пользователем.**

Пользовательское меню - это команды, определенные пользователем.При вызове меню используется файл ~/.mc.menu, если такого файла нет, используется файл системного меню /usr/lib/mc/mc.menu.

Формат: Строки, которые не начинаются с пробела или табуляции, являются элементами меню.

Все строки, начинающиеся с пробела или табуляции, являются командами при выборе записи. 

Когда выбрана запись, все строки копируются в файл во временном каталоге, выполняется. 

MC выполняет простые макрозамены:

файл %f.каталог %d.

+%F файл на неактивной панели.

Каталог %D неактивной панели.

%t помеченные файлы.

%T помеченные файлы с неактивной панели.

**10. Дайте характеристику средствам mc, которые позволяют выполнять действия, определяемые пользователем, над текущим файлом.**

Поиск командного файла клавиатуры выполняется с использованием этого алгоритма:

1. K <файл> или --ключ-карта=<файл>

2. 2. MC_KEYMAP3. 

   3. Параметр ключевой карты4. 

   4. файл ~/.config/mc/mc.key card

      M-Tab выполняет операцию завершения имени файла, имени команды, переменной, имени пользователя или имени компьютера.

### **Вывод**

В этой лабораторной работе мы практикуем управление (mc)Midnight commander. Мы научились ориентироваться и выполнять операции с помощью ключа. Подводя итог, можно сказать, что мы приобрели необходимые навыки для работы с файлами и без проблем освоили midnight commander.